<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>民航定票管理系统</title>
    <!-- Bootstrap -->
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/css/LoginStyle.css}" rel="stylesheet">
    <link th:href="@{/css/dashboard.css}" rel="stylesheet">
    <script th:src="@{/js/jquery-3.4.1.min.js}"></script>
    <script th:src="@{/js/bootstrap.min.js}"></script>
    <script th:src="@{/js/gVerify.js}"></script>
</head>

<body>
<!-- 顶部导航栏 -->
<div th:replace="commons/commons.html::topbar(active='login.html')"></div>
<!--Login  -->
<div class="text-center">
    <form class="form-signin" method="post" th:action="@{/login}">
        <h1 class="h3 mb-3 font-weight-normal">请登陆</h1>
        <input type="text" class="form-control" placeholder="用户名" name="username" required="" autofocus="">
        <br/>
        <input type="password" class="form-control" placeholder="密码" name="password" required="">
        <br/>
        <input type="text" class="form-control" placeholder="验证码" name="code_input" required="" id="code_input">
        <br/>
        <div id="v_container" style="width: 300px;height: 50px;"></div>
        <br/>
        <input type="checkbox" name="remember-me" value="remember-me"> 记住我<br/>
        <button class="btn btn-lg btn-primary btn-block" id="login" type="submit">登陆</button>
    </form>
</div>

<!-- 底部copyright -->
<footer th:replace="commons/commons.html::Copyright"></footer>

</body>
<script>
    var verifyCode = new GVerify("v_container");
    document.getElementById("login").onclick = function () {
        var res = verifyCode.validate(document.getElementById("code_input").value);
        if (!res) {
             alert("验证码错误");
             return false;
         }
    }
</script>

</html>